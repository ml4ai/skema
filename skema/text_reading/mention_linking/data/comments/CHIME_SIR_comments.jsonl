{"comments":[[1,"## ============================================================================="],[2,"## NOTATIONAL CONVENTIONS:"],[3,"##   Comments starting with single hash - '#' - are \"normal\" comments"],[4,"##   Comments starting with double hash - '##' - represent name corresopnding"],[5,"##       named component in hand-developed GroMEt representation"],[6,"##   Comments starting with triple_hash - '###' - represent comment about differences"],[7,"##       from original CHIME sir.py:"],[8,"##       https://github.com/CodeForPhilly/chime/blob/develop/src/penn_chime/model/sir.py"],[9,"## ============================================================================="],[12," ==============================================================================="],[13," get_beta"],[14," Calculates a rate of exposure given an intrinsic growth rate for COVID-19"],[15," -------------------------------------------------------------------------------"],[16,"     Input Variables:"],[17,"     intrinsic_growth_rate   Rate of spread of COVID-19 cases"],[18,"     gamma         The expected recovery rate from COVID-19 for infected individuals"],[19,"     s_c           Current amount of individuals that are susceptible"],[20,"     contact_rate  The relative contact rate amongst individuals in the population"],[21,""],[22,"     State Variables:"],[23,"     inv_contact_rate      The inverse rate of contact between individuals in the population"],[24,"     updated_growth_rate   The intrinsic growth rate adjusted for the recovery rate from infection"],[25,""],[26,"     Output Variables:"],[27,"     beta              The rate of exposure of individuals to persons infected with COVID-19"],[28,""],[29," -------------------------------------------------------------------------------"],[30,"  Called by:   main"],[31,"  Calls:       None"],[32," =============================================================================="],[43," The inverse rate of contact between individuals in the population ## get_beta_icr_exp"],[44," The intrinsic growth rate adjusted for the recovery rate from infection ## get_beta_ugr_exp"],[45,"# get_beta_beta_exp"],[50," ==============================================================================="],[51," GET_GROWTH_RATE, subroutine, by P. Hein"],[52," Calculate the expected growth rate of COVID-19 infections given a doubling time"],[53," -------------------------------------------------------------------------------"],[54,"     Input Variables:"],[55,"     doubling_time     The time required for the amount of COVID-19 cases to double"],[56,""],[57,"     Output Variables:"],[58,"     growth_rate       Rate of spread of COVID-19 cases"],[59,""],[60," -------------------------------------------------------------------------------"],[61,"  Called by:   main"],[62,"  Calls:       None"],[63," =============================================================================="],[70,"# ggr_cond"],[71,"# ggr_cond_b0_cond"],[72,"# ggr_cond_b0_exp"],[74,"# ggr_cond_b1_exp"],[79," ==============================================================================="],[80,"  SIR, Subroutine, P. Hein"],[81,"  Updates all disease states given the current state values"],[82," -------------------------------------------------------------------------------"],[83,"     Input/Output Variables:"],[84,"     s           Current amount of individuals that are susceptible"],[85,"     i           Current amount of individuals that are infectious"],[86,"     r           Current amount of individuals that are recovered"],[87,"     beta        The rate of exposure of individuals to persons infected with COVID-19"],[88,"     gamma       Rate of recovery for infected individuals"],[89,"     n           Total population size"],[90,""],[91,"     State Variables:"],[92,"     s_n         Update to the amount of individuals that are susceptible"],[93,"     i_n         Update to the amount of individuals that are infectious"],[94,"     r_n         Update to the amount of individuals that are recovered"],[95,"     scale       A scaling factor to compute updated disease variables"],[96,""],[97," -------------------------------------------------------------------------------"],[98,"  Called by:   sim_sir"],[99,"  Calls:       None"],[100," =============================================================================="],[112," Update to the amount of individuals that are susceptible ## sir_s_n_exp"],[113," Update to the amount of individuals that are infectious ## sir_i_n_exp"],[114," Update to the amount of individuals that are recovered ## sir_r_n_exp"],[116," A scaling factor to compute updated disease variables ## sir_scale_exp"],[118,"# sir_s_exp"],[119,"# sir_i_exp"],[120,"# sir_r_exp"],[124," ==============================================================================="],[125," SIM_SIR, subroutine, by P. Hein"],[126," Simulates a COVID-19 outbreak where a policy intervention is attempted in"],[127," order to lower the relative contact rate amongst individuals."],[128," -------------------------------------------------------------------------------"],[129,"     Input/Output Variables:"],[130,"     s           Current amount of individuals that are susceptible"],[131,"     i           Current amount of individuals that are infectious"],[132,"     r           Current amount of individuals that are recovered"],[133,"     d_a         An array (list) used to record the current day during the simulation"],[134,"     s_a         An array (list) used to record the susceptible population changes during the simulation"],[135,"     i_a         An array (list) used to record the currently infected population changes during the simulation"],[136,"     r_a         An array (list) used to record the recovered population changes during the simulation"],[137,"     e_a         An array (list) used to record the total (ever) infected (i + r) population changes during the simulation"],[138,""],[139,"     Input Variables:"],[140,"     gamma       The expected recovery rate from COVID-19 for infected individuals"],[141,"     i_day       Start day of COVID-19 infections"],[142,"     N_p         Number of policies to use for the simulation"],[143,"     betas       An array of beta values with one entry per beta"],[144,"     days        An array of time periods with one entry per policy"],[145,""],[146,"     State Variables:"],[147,"     n           Total population size"],[148,"     beta        The rate of exposure of indidivuals to persons infected with COVID-19"],[149,"     n_days      The amount of days for for the current policy to be simulated"],[150,"     d           Tracks the current day in the simulation"],[151,"     p_idx       Index to use for accessing policy variables"],[152,"     d_idx       Index to be used for days in the current policy"],[153,"     idx         Index to be used to access arrays for storing simulated outputs"],[154,"     total_inf   The total population that is ever infected at a timestep during the simulation"],[155,""],[156," -------------------------------------------------------------------------------"],[157,"  Called by:   main"],[158,"  Calls:       sir"],[159," =============================================================================="],[160,"## original inputs"],[161,"## changes to original CHIME sim_sir to simplify policy bookkeeping"],[162,"## changes to original CHIME sim_sir simulation bookkeeping - here, bookkeeping represented as lists that are passed in as arguments"],[164,"# simsir_n_exp"],[165,"# simsir_d_exp"],[167,"## total_days from original CHIME sim_sir was used to determine the size of the"],[168,"## the state bookkeeping across the simulation."],[169,"## Here, the array size is for this bookkeeping is determined outside of sim_sir"],[170,"## and the arrays are passed in as arguments."],[172,"# simsir_idx_exp"],[173,"# simsir_loop_1"],[174,"# simsir_loop_1_beta_exp"],[175,"# simsir_loop_1_N_d_exp"],[176,"# simsir_loop_1_1"],[177,"# simsir_loop_1_1_T_exp"],[178,"# simsir_loop_1_1_S_exp"],[179,"# simsir_loop_1_1_I_exp"],[180,"# simsir_loop_1_1_R_exp"],[181," updated \"ever\" infected (= i + r)  ### In CHIME sir.py, this is performed at end as sum of two numpy arrays; here perform iteratively"],[182,"# simsir_loop_1_1_idx_exp"],[184,"# simsir_loop_1_1_call_sir_exp"],[185,"# simsir_loop_1_1_d_exp"],[187," Record the last update (since sir() is called at the tail of the inner loop above)"],[188,"# simsir_T_exp"],[189,"# simsir_S_exp"],[190,"# simsir_I_exp"],[191,"# simsir_R_exp"],[192," updated \"ever\" infected (= i + r)  ### In CHIME sir.py, this is performed at end as sum of two numpy arrays; here perform iteratively"],[194,"## return"],[203,"##"],[205," initial parameters"],[206,"# main_i_day_exp"],[207,"# main_n_days_exp"],[208,"# main_N_p_exp"],[209,"# main_N_t_exp"],[210,"# main_inf_days_exp"],[211,"# main_rcr_exp"],[212,"# main_gamma_exp"],[214," initialize lists for policy and simulation state bookkeeping"],[215,"# TODO size      # main_pbetas_seq"],[216,"# main_pdays_seq"],[217,"# main_T_seq"],[218,"# main_S_seq"],[219,"# main_I_seq"],[220,"# main_R_seq"],[221," \"ever\" infected (= I + R) ## main_E_seq"],[223," initial population"],[224,"# main_s_n_exp"],[225,"# main_i_n_exp"],[226,"# main_r_n_exp"],[228," calculate beta under policy"],[229,"# main_loop_1"],[230,"# main_loop_1_dtime_exp"],[232,"# main_loop_1_gr_exp"],[233,"# main_loop_1_beta_exp"],[235,"# main_loop_1_pbetas_exp"],[236,"# main_loop_1_pdays_exp"],[238," simulate dynamics (corresponding roughly to run_projection() )"],[240,"# main_call_simsir_exp"],[249," return simulated dynamics"]],"docstrings":{"get_beta":["","    Calculates a rate of exposure given an intrinsic growth rate for COVID-19","    :param intrinsic_growth_rate: Rate of spread of COVID-19 cases","    :param gamma: The expected recovery rate from COVID-19 for infected individuals","    :param susceptible: Current amount of individuals that are susceptible","    :param relative_contact_rate: The relative contact rate amongst individuals in the population","    :return: beta: The rate of exposure of individuals to persons infected with COVID-19","    "],"sir":["","    The SIR model, one time step","    :param s: Current amount of individuals that are susceptible","    :param i: Current amount of individuals that are infectious","    :param r: Current amount of individuals that are recovered","    :param beta: The rate of exposure of individuals to persons infected with COVID-19","    :param gamma: Rate of recovery for infected individuals","    :param n: Total population size","    :return:","    "],"get_growth_rate":["","    Calculate the expected growth rate of COVID-19 infections given a doubling time","    :param doubling_time: The time required for the amount of COVID-19 cases to double","    :return: growth_rate: Rate of spread of COVID-19 cases.","    "],"main":["","    implements generic CHIME configuration without hospitalization calculation","    initializes parameters and population, calculates policy, and runs dynamics","    :return:","    "]}}