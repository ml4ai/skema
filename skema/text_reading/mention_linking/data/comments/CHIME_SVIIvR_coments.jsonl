{"comments":[[5,"## ============================================================================="],[6,"## NOTATIONAL CONVENTIONS:"],[7,"##   Comments starting with single hash - '#' - are \"normal\" comments"],[8,"##   Comments starting with double hash - '##' - represent name corresponding"],[9,"##       named component in hand-developed GroMEt representation"],[10,"##   Comments starting with triple_hash - '###' - represent comment about differences"],[11,"##       from original CHIME sir.py:"],[12,"##       https://github.com/CodeForPhilly/chime/blob/develop/src/penn_chime/model/sir.py"],[13,"## ============================================================================="],[16," ==============================================================================="],[17," get_beta"],[18," Calculates a rate of exposure given an intrinsic growth rate for COVID-19"],[19," -------------------------------------------------------------------------------"],[20,"     Input Variables:"],[21,"     intrinsic_growth_rate   Rate of spread of COVID-19 cases"],[22,"     gamma                   The expected recovery rate from COVID-19 for infected individuals"],[23,"     susceptible             Current amount of individuals that are susceptible"],[24,"     relative_contact_rate   The relative contact rate amongst individuals in the population"],[25,""],[26,""],[27,"     State Variables:"],[28,"     inv_contact_rate      The inverse rate of contact between individuals in the population"],[29,"     updated_growth_rate   The intrinsic growth rate adjusted for the recovery rate from infection"],[30,""],[31,"     Output Variables:"],[32,"     beta              The rate of exposure of individuals to persons infected with COVID-19"],[33,""],[34," -------------------------------------------------------------------------------"],[35,"  Called by:   main"],[36,"  Calls:       None"],[37," =============================================================================="],[47," The inverse rate of contact between individuals in the population ## get_beta_icr_exp"],[48," The intrinsic growth rate adjusted for the recovery rate from infection ## get_beta_ugr_exp"],[49,"# get_beta_beta_exp"],[54," ==============================================================================="],[55," GET_GROWTH_RATE, subroutine, by P. Hein"],[56," Calculate the expected growth rate of COVID-19 infections given a doubling time"],[57," -------------------------------------------------------------------------------"],[58,"     Input Variables:"],[59,"     doubling_time     The time required for the amount of COVID-19 cases to double"],[60,""],[61,"     Output Variables:"],[62,"     growth_rate       Rate of spread of COVID-19 cases"],[63,""],[64," -------------------------------------------------------------------------------"],[65,"  Called by:   main"],[66,"  Calls:       None"],[67," =============================================================================="],[74,"# ggr_cond"],[75,"# ggr_cond_b0_cond"],[76,"# ggr_cond_b0_exp"],[78,"# ggr_cond_b1_exp"],[83," ==============================================================================="],[84,"  SIR, Subroutine, P. Hein"],[85,"  Updates all disease states given the current state values"],[86," -------------------------------------------------------------------------------"],[87,"     Input/Output Variables:"],[88,"     s           Current amount of individuals that are susceptible"],[89,"     v           Current amount of individuals that are vaccinated"],[90,"     i           Current amount of individuals that are infectious"],[91,"     i_v         Current amount of vaccinated individuals that are infectious"],[92,"     r           Current amount of individuals that are recovered"],[93,"     beta        The rate of exposure of individuals to persons infected with COVID-19"],[94,"     gamma_unvaccinated     Rate of recovery for infected unvaccinated individuals"],[95,"     gamma_vaccinated       Rate of recovery for infected vaccinated individuals"],[96,"     vaccination_rate       The rate of vaccination of susceptible individuals"],[97,"     vaccine_efficacy       The efficacy of the vaccine"],[98,"     n           Total population size"],[99,""],[100,"     State Variables:"],[101,"     s_n         Update to the amount of individuals that are susceptible"],[102,"     v_n         Update to the amount of individuals that are vaccinated"],[103,"     i_n         Update to the amount of individuals that are infectious"],[104,"     i_v_n       Update to the amount of vaccinated individuals that are infectious"],[105,"     r_n         Update to the amount of individuals that are recovered"],[106,"     scale       A scaling factor to compute updated disease variables"],[107,""],[108," -------------------------------------------------------------------------------"],[109,"  Called by:   sim_sir"],[110,"  Calls:        None"],[111," =============================================================================="],[129," Update to the amount of individuals that are susceptible ## sir_s_n_exp"],[131," Update to the amount of individuals that are susceptible ## sir_v_n_exp"],[133," Update to the amount of individuals that are infectious ## sir_i_n_exp"],[135," Update to the amount of individuals that are infectious ## sir_i_v_n_exp"],[136," Update to the amount of individuals that are recovered ## sir_r_n_exp"],[139," A scaling factor to compute updated disease variables ## sir_scale_exp"],[141,"# sir_s_exp"],[142,"# sir_v_exp"],[143,"# sir_i_exp"],[144,"# sir_i_v_exp"],[145,"# sir_r_exp"],[149," ==============================================================================="],[150," SIM_SIR, subroutine, by P. Hein"],[151," Simulates a COVID-19 outbreak where a policy intervention is attempted in"],[152," order to lower the relative contact rate amongst individuals."],[153," -------------------------------------------------------------------------------"],[154,"     Input/Output Variables:"],[155,"     s           Current amount of individuals that are susceptible"],[156,"     v           Current amount of individuals that are vaccinated"],[157,"     i           Current amount of individuals that are infectious"],[158,"     i_v         Current amount of vaccinated individuals that are infectious"],[159,"     r           Current amount of individuals that are recovered"],[160,"     d_a         An array (list) used to record the current day during the simulation"],[161,"     s_a         An array (list) used to record the susceptible population changes during the simulation"],[162,"     v_a         An array (list) used to record the vaccinated population changes during the simulation"],[163,"     i_a         An array (list) used to record the currently infected population changes during the simulation"],[164,"     i_v_a       An array (list) used to record the currently vaccinated and infected population changes during the simulation"],[165,"     r_a         An array (list) used to record the recovered population changes during the simulation"],[166,"     e_a         An array (list) used to record the total (ever) infected (i + i_v + r) population changes during the simulation"],[167,""],[168,"     Input Variables:"],[169,"     vaccination_rate The current rate of vaccination of susceptible individuals"],[170,"     gamma_unvaccinated       The expected recovery rate from COVID-19 for infected unvaccinated individuals"],[171,"     gamma_vaccinated       The expected recovery rate from COVID-19 for infected vaccinated individuals"],[172,"     i_day       Start day of COVID-19 infections"],[173,"     N_p         Number of policies to use for the simulation"],[174,"     betas       An array of beta values with one entry per beta"],[175,"     days        An array of time periods with one entry per policy"],[176,""],[177,"     State Variables:"],[178,"     n           Total population size"],[179,"     beta        The rate of exposure of individuals to persons infected with COVID-19"],[180,"     n_days      The amount of days for for the current policy to be simulated"],[181,"     d           Tracks the current day in the simulation"],[182,"     p_idx       Index to use for accessing policy variables"],[183,"     d_idx       Index to be used for days in the current policy"],[184,"     idx         Index to be used to access arrays for storing simulated outputs"],[185,"     total_inf   The total population that is ever infected at a timestep during the simulation"],[186,""],[187," -------------------------------------------------------------------------------"],[188,"  Called by:   main"],[189,"  Calls:       sir"],[190," =============================================================================="],[192,"## original inputs"],[193,"## changes to original CHIME sim_sir to simplify policy bookkeeping"],[195,"## changes to original CHIME sim_sir simulation bookkeeping - here, bookkeeping represented as lists that are passed in as arguments"],[197,"# simsir_n_exp"],[198,"# simsir_d_exp"],[200,"## total_days from original CHIME sim_sir was used to determine the size of the"],[201,"## the state bookkeeping across the simulation."],[202,"## Here, the array size is for this bookkeeping is determined outside of sim_sir"],[203,"## and the arrays are passed in as arguments."],[205,"# simsir_idx_exp"],[206,"# simsir_loop_1"],[207,"# simsir_loop_1_beta_exp"],[208,"# simsir_loop_1_N_d_exp"],[209,"# simsir_loop_1_1"],[210,"# simsir_loop_1_1_T_exp"],[211,"# simsir_loop_1_1_S_exp"],[212,"# simsir_loop_1_1_V_exp"],[213,"# simsir_loop_1_1_I_exp"],[214,"# simsir_loop_1_1_I_V_exp"],[215,"# simsir_loop_1_1_R_exp"],[217," updated \"ever\" infected (= i + i_v + r)  ### In CHIME sir.py, this is performed at end as sum of two numpy arrays; here perform iteratively"],[219,"# simsir_loop_1_1_idx_exp"],[222,"# simsir_loop_1_1_call_sir_exp"],[224,"# simsir_loop_1_1_d_exp"],[226," Record the last update (since sir() is called at the tail of the inner loop above)"],[227,"# simsir_T_exp"],[228,"# simsir_S_exp"],[229,"# simsir_V_exp"],[230,"# simsir_I_exp"],[231,"# simsir_I_exp"],[232,"# simsir_R_exp"],[234,"## return"],[243,"##"],[245," initial parameters"],[246,"# main_i_day_exp"],[247,"# main_n_days_exp"],[248,"# main_N_p_exp"],[249,"# main_N_t_exp"],[250,"# main_inf_days_u_exp"],[251,"# main_inf_days_v_exp"],[252,"# main_rcr_exp"],[253,"# main_gamma_u_exp"],[254,"# main_gamma_v_exp"],[256," Vaccination parameters"],[257,"# main_vaccination_rate_exp"],[258,"# main_vaccine_efficacy_exp"],[260," initialize lists for policy and simulation state bookkeeping"],[261,"# TODO size      # main_pbetas_seq"],[262,"# main_pdays_seq"],[263,"# main_T_seq"],[264,"# main_S_seq"],[265,"# main_V_seq"],[266,"# main_I_seq"],[267,"# main_I_V_seq"],[268,"# main_R_seq"],[269," \"ever\" infected (= I + R) ## main_E_seq"],[271," initial population"],[272,"# main_s_n_exp"],[273,"# main_v_n_exp"],[274,"# main_i_n_exp"],[275,"# main_i_v_n_exp"],[276,"# main_r_n_exp"],[278," calculate beta under policy"],[279,"# main_loop_1"],[282,"# main_loop_1_gr_exp"],[283,"# main_loop_1_beta_exp"],[285,"# main_loop_1_pbetas_exp"],[286,"# main_loop_1_pdays_exp"],[288," simulate dynamics (corresponding roughly to run_projection() )"],[291,"# main_call_simsir_exp"],[295," return simulated dynamics"]],"docstrings":{"get_beta":["","    Calculates a rate of exposure given an intrinsic growth rate for COVID-19","    :param intrinsic_growth_rate: Rate of spread of COVID-19 cases","    :param gamma: The expected recovery rate from COVID-19 for infected individuals","    :param susceptible: Current amount of individuals that are susceptible","    :param relative_contact_rate: The relative contact rate amongst individuals in the population","    :return: beta: The rate of exposure of individuals to persons infected with COVID-19","    "],"sir":["","    The SIR model, one time step","    :param s: Current amount of individuals that are susceptible","    :param v: Current amount of individuals that are vaccinated","    :param i: Current amount of individuals that are infectious","    :param i_v: Current amount of vaccinated individuals that are infectious","    :param r: Current amount of individuals that are recovered","    :param beta: The rate of exposure of individuals to persons infected with COVID-19","    :param gamma_unvaccinated: Rate of recovery for infected unvaccinated individuals","    :param gamma_vaccinated: Rate of recovery for infected vaccinated individuals","    :param vaccination_rate: The rate of vaccination of susceptible individuals","    :param vaccine_efficacy: The efficacy of the vaccine","    :param n: Total population size","    :return:","    "],"get_growth_rate":["","    Calculate the expected growth rate of COVID-19 infections given a doubling time","    :param doubling_time: The time required for the amount of COVID-19 cases to double","    :return: growth_rate: Rate of spread of COVID-19 cases.","    "],"main":["","    implements generic CHIME configuration without hospitalization calculation","    initializes parameters and population, calculates policy, and runs dynamics","    :return:","    "]}}